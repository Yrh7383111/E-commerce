{"ast":null,"code":"var _jsxFileName = \"/Users/jacksonyin/Documents/development/E-commerce/client/src/App.js\";\nimport React, { useEffect } from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport HomePage from './pages/homepage/homepage.component';\nimport ShopPage from \"./pages/shop/shop.component\";\nimport Header from \"./components/header/header.component\";\nimport SignInAndSignUpPage from \"./pages/sign-in-and-sign-up/sign-in-and-sign-up.component\";\nimport CheckoutPage from \"./pages/checkout/checkout.component\";\nimport { selectCurrentUser } from \"./redux/user/user.selectors\";\nimport { checkCurrentUser } from \"./redux/user/user.actions\";\nimport './App.css'; // App component\n\nconst App = () => {\n  // Retrieve props from store\n  // Caching - Memoization\n  // If state.user doesn't change, memoize currentUser\n  const currentUser = useSelector(selectCurrentUser); // Dispatch Actions to all Reducers\n\n  const dispatch = useDispatch(); // Called when\n  // 1. The component is first mounted\n  // 2. checkCurrentUser changes\n\n  useEffect(() => {\n    dispatch(checkCurrentUser());\n  }, [dispatch]); // Rendering\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: HomePage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/shop\",\n    component: ShopPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/checkout\",\n    component: CheckoutPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/signin\",\n    render: () => currentUser ? /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 25\n      }\n    }) : /*#__PURE__*/React.createElement(SignInAndSignUpPage, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 25\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  })));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/jacksonyin/Documents/development/E-commerce/client/src/App.js"],"names":["React","useEffect","Switch","Route","Redirect","useSelector","useDispatch","HomePage","ShopPage","Header","SignInAndSignUpPage","CheckoutPage","selectCurrentUser","checkCurrentUser","App","currentUser","dispatch"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,QAAxB,QAAwC,kBAAxC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAOC,QAAP,MAAqB,qCAArB;AACA,OAAOC,QAAP,MAAqB,6BAArB;AACA,OAAOC,MAAP,MAAmB,sCAAnB;AACA,OAAOC,mBAAP,MAAgC,2DAAhC;AACA,OAAOC,YAAP,MAAyB,qCAAzB;AACA,SAASC,iBAAT,QAAkC,6BAAlC;AACA,SAASC,gBAAT,QAAiC,2BAAjC;AACA,OAAO,WAAP,C,CAGA;;AACA,MAAMC,GAAG,GAAI,MAAM;AACf;AACA;AACA;AACA,QAAMC,WAAW,GAAGV,WAAW,CAACO,iBAAD,CAA/B,CAJe,CAKf;;AACA,QAAMI,QAAQ,GAAGV,WAAW,EAA5B,CANe,CASf;AACA;AACA;;AACAL,EAAAA,SAAS,CAAC,MAAM;AACZe,IAAAA,QAAQ,CAACH,gBAAgB,EAAjB,CAAR;AACH,GAFQ,EAEN,CAACG,QAAD,CAFM,CAAT,CAZe,CAiBf;;AACA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eAKI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGI,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,GAAlB;AAAsB,IAAA,SAAS,EAAET,QAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,eAII,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,OAAZ;AAAoB,IAAA,SAAS,EAAEC,QAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,eAKI,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,WAAlB;AAA8B,IAAA,SAAS,EAAEG,YAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,eAMI,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,SAAlB;AAA4B,IAAA,MAAM,EAAE,MAChCI,WAAW,gBAEP,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFO,gBAIP,oBAAC,mBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANJ,CALJ,CADJ;AAsBH,CAxCD;;AA2CA,eAAeD,GAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport HomePage from './pages/homepage/homepage.component';\nimport ShopPage from \"./pages/shop/shop.component\";\nimport Header from \"./components/header/header.component\";\nimport SignInAndSignUpPage from \"./pages/sign-in-and-sign-up/sign-in-and-sign-up.component\";\nimport CheckoutPage from \"./pages/checkout/checkout.component\";\nimport { selectCurrentUser } from \"./redux/user/user.selectors\";\nimport { checkCurrentUser } from \"./redux/user/user.actions\";\nimport './App.css';\n\n\n// App component\nconst App =  () => {\n    // Retrieve props from store\n    // Caching - Memoization\n    // If state.user doesn't change, memoize currentUser\n    const currentUser = useSelector(selectCurrentUser);\n    // Dispatch Actions to all Reducers\n    const dispatch = useDispatch();\n\n\n    // Called when\n    // 1. The component is first mounted\n    // 2. checkCurrentUser changes\n    useEffect(() => {\n        dispatch(checkCurrentUser());\n    }, [dispatch]);\n\n\n    // Rendering\n    return (\n        <div>\n            {/* Header */}\n            <Header />\n\n            {/* Switch ensure when one Route matches, remaining won't be rendered */}\n            <Switch>\n                {/* Only the first component passing to the route has access to Route props:  */}\n                {/* history, location, match */}\n                <Route exact path='/' component={HomePage} />\n                <Route path='/shop' component={ShopPage} />\n                <Route exact path='/checkout' component={CheckoutPage} />\n                <Route exact path='/signin' render={() =>\n                    currentUser\n                        ?\n                        <Redirect to='/' />\n                        :\n                        <SignInAndSignUpPage />\n                } />\n            </Switch>\n        </div>\n    );\n}\n\n\nexport default App;"]},"metadata":{},"sourceType":"module"}